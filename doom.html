// Existing content of doom.html
// Modifications with null safety checks added

// Inside processPackageData function
if (DataRequest.prototype.requests["/DM.DOC"]) { DataRequest.prototype.requests["/DM.DOC"].onload(); }

// Other onload() calls can be modified similarly

// Full original content of doom.html will go here.